<!DOCTYPE html>
<head>
  <title>Bird box camera</title>
  <style>
    header {
      background-color: aliceblue;
    }
  </style>
  <script>
    let brightness = 1.0;
    const BRIGHTNESS_STEP = 0.05;

    function ChangeBrightness(step){
      brightness += step;
      if(brightness < 0){
        brightness = 0;
      }
      if(brightness > 1.0){
        brightness = 1;
      }
      UpdateBrightnessValue();
      //send new brightness to the server
      fetch(`${window.location.origin}/brightness`, {
        method: "POST",
        body: JSON.stringify({ brightness }),
        headers: {
          "Content-Type": "application/json"
        }
      });
    }
    function AttachBrightnessMethods(){
      document.getElementById("brightness_up").onclick = function(){ChangeBrightness(BRIGHTNESS_STEP);}
      document.getElementById("brightness_down").onclick = function(){ChangeBrightness(-BRIGHTNESS_STEP);}
    }
    function UpdateBrightnessValue(){
      document.getElementById("brightness").textContent = Math.round(brightness * 100);
    }
    window.onload = function(){
      AttachBrightnessMethods();
      UpdateBrightnessValue();
    }
  </script>
</head>
<body>
  <header>
    <div id="brightness_Selector">
      <button id="brightness_up">←</button>
      <span id="brightness"></span><span>%</span>
      <button id="brightness_down">→</button>
    </div>
  </header>
  <img src="/video_feed">
</body>